(()=>{const e=document.querySelector("#error-msg");async function t(e,t){try{let c=await async function(e){let t=await fetch(`https://api.openweathermap.org/data/2.5/weather?q=${e}&APPID=a11f6ec183570041115399586e272aa0`,{mode:"cors"});return await t.json()}(e);200==c.cod?(!function(e,t){let n,r;"C"==t?(r=o(e.temp)+"°C",n=o(e.tempFeels)+"°C"):(r=i(e.temp)+"°F",n=i(e.tempFeels)+"°F"),document.querySelector("#location").innerHTML=e.location,document.querySelector("#time").innerHTML=e.date,document.querySelector("#temp").innerHTML=r,document.querySelector("#description").innerHTML=e.description,document.querySelector("#feels").innerHTML="feels like "+n,document.querySelector("#icon").src="http://openweathermap.org/img/wn/"+e.icon+"@2x.png"}(await async function(e){let t=a(e.dt,e.timezone);return{location:e.name,date:t,temp:e.main.temp,tempFeels:e.main.feels_like,description:e.weather[0].description,icon:e.weather[0].icon}}(c),t),r()):n(c,e)}catch(e){console.log(e)}}document.querySelector("#search-form").addEventListener("submit",(e=>{e.preventDefault();let n=document.querySelector("#search-input").value;n&&t(n,"C")}));let n=function(t,n){e.innerHTML="There was an error accessing the weather data for "+n+": "+t.cod+": "+t.message,e.style.visibility="visible"},r=function(){e.innerHTML="",e.style.visibility="hidden"},a=function(e,t){let n=new Date(1e3*(e+t));return`${["Sunday","Monday","Thusday","Wednesday","Thursday","Friday","Saturday"][n.getUTCDay()]}, ${n.getUTCDate()} ${["January","February","March","April","May","June","July","August","September","October","November","December"][n.getUTCMonth()]} ${n.getUTCFullYear()}, ${n.getUTCHours().toString().padStart(2,"0")}:${n.getUTCMinutes().toString().padStart(2,"0")}`},o=function(e){return Math.round(e-273.15)},i=function(e){return Math.round(1.8*(e-273)+32)};t("södertälje","C")})();