(()=>{"use strict";let e,t=document.querySelectorAll(".tempC"),n=document.querySelectorAll(".tempF"),r=document.querySelector("#toggleTemp");const o=document.querySelector("#error-msg");let a=function(o){console.log(o),"C"==o?(t.forEach((e=>{e.style.display="block"})),n.forEach((e=>{e.style.display="none"})),e="C",r.innerHTML="Display °F"):"F"==o&&(t.forEach((e=>{e.style.display="none"})),n.forEach((e=>{e.style.display="block"})),e="F",r.innerHTML="Display °C")};document.querySelector("#search-form").addEventListener("submit",(e=>{e.preventDefault();let t=document.querySelector("#search-input").value;t&&i(t)})),document.querySelector("#toggleTemp").addEventListener("click",(()=>{a("C"==e?"F":"C")}));let c=function(e){return Math.round(e-273.15)},l=function(e){return Math.round(1.8*(e-273)+32)};async function i(t,n){try{let u=await async function(e){let t=await fetch(`https://api.openweathermap.org/data/2.5/weather?q=${e}&APPID=a11f6ec183570041115399586e272aa0`,{mode:"cors"});return await t.json()}(t);if(200==u.cod){console.log(u);let t=await async function(e){let t=function(e,t){let n=new Date(1e3*(e+t));return`${["Sunday","Monday","Thusday","Wednesday","Thursday","Friday","Saturday"][n.getUTCDay()]}, ${n.getUTCDate()} ${["January","February","March","April","May","June","July","August","September","October","November","December"][n.getUTCMonth()]} ${n.getUTCFullYear()}, ${n.getUTCHours().toString().padStart(2,"0")}:${n.getUTCMinutes().toString().padStart(2,"0")}`}(e.dt,e.timezone);return{location:e.name,date:t,tempC:c(e.main.temp),feelsC:c(e.main.feels_like),tempF:l(e.main.temp),feelsF:l(e.main.feels_like),description:e.weather[0].description,icon:e.weather[0].icon}}(u);console.log("weather object created"),function(t,n=e){a(n),document.querySelector("#location").innerHTML=t.location,document.querySelector("#time").innerHTML=t.date,document.querySelector("#tempC").innerHTML=t.tempC+"°C",document.querySelector("#feelsC").innerHTML="feels like "+t.feelsC+"°C",document.querySelector("#tempF").innerHTML=t.tempF+"°F",document.querySelector("#feelsF").innerHTML="feels like "+t.feelsF+"°F",document.querySelector("#icon").src="http://openweathermap.org/img/wn/"+t.icon+"@2x.png",document.querySelector("#description").innerHTML=t.description}(t,n),o.innerHTML="",o.style.visibility="hidden"}else r=u,i=t,o.innerHTML="There was an error accessing the weather data for "+i+": "+r.cod+": "+r.message,o.style.visibility="visible"}catch(e){console.log(e)}var r,i}i("södertälje","C")})();